Working with the ChatGPT Agent in DesktopApplicationTemplate
==========================================================

Effective Collaboration Techniques
----------------------------------
- Provide clear goals, file paths, and context for each task.
- Prefer small, incremental changes that compile and test quickly.
- Run programmatic checks after modifications and share their output.
- Use `rg` or targeted `find` commands instead of recursive `ls` or `grep`.

GitHub Workflow Notes
---------------------
- Keep changes on the main branch and make atomic commits with descriptive messages.
- After all code updates, run `dotnet test` and include the output in the pull request.
- Only committed code is evaluated, so ensure the working tree is clean before calling `make_pr`.

Draw.io Integration
-------------------
- Store architecture diagrams as `.drawio` files in the `design` directory.
- Export diagrams to `.png` for quick review while keeping the editable `.drawio` source under version control.
- Describe diagram updates in commit messages or pull requests so reviewers understand their purpose.

Unit Testing Insights
---------------------
- Tests use xUnit with Moq for mocking and reside in `DesktopApplicationTemplate.Tests`.
- Prefer isolated tests that validate one behavior and use expressive method names.
- Configure dependencies through DI to keep tests focused and deterministic.
- Run tests with `dotnet test` to ensure stability across platforms and CI environments.

Miscellaneous Tips
------------------
- Validate all file paths, indexes, and dictionary keys before use to avoid runtime errors.
- Favor async/await patterns to keep the UI responsive and avoid deadlocks.
- Reuse existing services and view models instead of duplicating logic.
- Maintain clear, purpose-driven variable names for readability and maintainability.

[2025-08-13 23:14] Topic: WPF test dispatcher shutdown
Context: SettingsPageNavigationTests crashed when calling Application.Current.Shutdown directly.
Observations: WPF requires invoking Shutdown on the owning dispatcher; direct calls raised cross-thread InvalidOperationException.
Codex Limitations noticed: Local container lacks the .NET SDK to run tests.
Effective Prompts / Instructions that worked: Provided failing stack trace to guide dispatcher-based fix.
Decisions & Rationale: Wrap shutdown logic in dispatcher invocation to marshal to the UI thread.
Action Items: Verify on Windows CI that tests pass with the updated dispatcher call.
Related Commits/PRs:

[2025-08-14 00:30] Topic: WPF Application aliasing
Context: Build failed due to ambiguous `Application` reference when WinForms implicit usings were enabled.
Observations: Using a namespace alias for `System.Windows.Application` removed the ambiguity.
Codex Limitations noticed: dotnet SDK unavailable in container to recompile locally.
Effective Prompts / Instructions that worked: Compiler error output identifying conflicting `Application` types.
Decisions & Rationale: Alias the WPF `Application` and refer to it explicitly in tests.
Action Items: Ensure CI builds succeed on Windows runners.
Related Commits/PRs: (this PR)
